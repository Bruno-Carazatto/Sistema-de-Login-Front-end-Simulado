/* =========================
   DASHBOARD • TEMA POR IMAGEM + ANIME VIBE + LOADER
========================= */

:root{
  --radius: 1.25rem;

  --bg-light-image: url("./Tema-Claro.webp");
  --bg-dark-image: url("./Tema-Escuro.webp");

  --glow-1: rgba(0,0,0,0);
  --glow-2: rgba(0,0,0,0);
}

*{
  transition: background-color .18s ease, border-color .18s ease, color .18s ease, transform .18s ease, box-shadow .18s ease, opacity .25s ease;
}

body{
  min-height: 100vh;
  position: relative;
  overflow-x: hidden;
}

/* =========================
   CLARO
========================= */
html[data-bs-theme="light"]{
  --light-bg: #f9e8c9;
  --light-text: #181012;
  --light-border: rgba(63, 41, 46, 0.18);
  --light-primary: #e02a2e;

  --bs-body-bg: var(--light-bg);
  --bs-body-color: var(--light-text);
  --bs-primary: var(--light-primary);
  --bs-border-color: var(--light-border);

  --glow-1: rgba(224, 42, 46, 0.30);
  --glow-2: rgba(255, 77, 90, 0.22);
}

html[data-bs-theme="light"] body::before{
  content:"";
  position: fixed;
  inset:0;
  z-index:-2;
  background-image: var(--bg-light-image);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  filter: saturate(1.08) contrast(1.03);
  transform: scale(1.02);
}
html[data-bs-theme="light"] body::after{
  content:"";
  position: fixed;
  inset:0;
  z-index:-1;
  background:
    radial-gradient(1000px 520px at 18% 12%, rgba(224,42,46,0.16), transparent 60%),
    radial-gradient(900px 520px at 86% 18%, rgba(113,55,58,0.16), transparent 55%),
    linear-gradient(to bottom, rgba(249,232,201,0.86), rgba(249,232,201,0.78));
}

/* =========================
   ESCURO
========================= */
html[data-bs-theme="dark"]{
  --dark-bg: #0f1430;
  --dark-text: #e2e3f9;
  --dark-border: rgba(160, 174, 240, 0.16);
  --dark-primary: #4a55c1;

  --bs-body-bg: var(--dark-bg);
  --bs-body-color: var(--dark-text);
  --bs-primary: var(--dark-primary);
  --bs-border-color: var(--dark-border);

  --glow-1: rgba(74, 85, 193, 0.40);
  --glow-2: rgba(200, 97, 241, 0.26);
}

html[data-bs-theme="dark"] body::before{
  content:"";
  position: fixed;
  inset:0;
  z-index:-2;
  background-image: var(--bg-dark-image);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  filter: saturate(1.05) contrast(1.08) brightness(0.85);
  transform: scale(1.02);
}
html[data-bs-theme="dark"] body::after{
  content:"";
  position: fixed;
  inset:0;
  z-index:-1;
  background:
    radial-gradient(1000px 560px at 18% 14%, rgba(74,85,193,0.22), transparent 60%),
    radial-gradient(900px 520px at 85% 18%, rgba(200,97,241,0.14), transparent 55%),
    linear-gradient(to bottom, rgba(15,20,48,0.70), rgba(15,20,48,0.92));
}

/* =========================
   LOADER FULLSCREEN
========================= */
.app-loader{
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: grid;
  place-items: center;
  padding: 24px;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

html[data-bs-theme="light"] .app-loader{
  background: rgba(249, 232, 201, 0.78);
}
html[data-bs-theme="dark"] .app-loader{
  background: rgba(15, 20, 48, 0.78);
}

.app-loader-card{
  width: min(460px, 92vw);
  border-radius: 22px;
  padding: 26px 22px;
  position: relative;
  text-align: center;
  overflow: hidden;
}

html[data-bs-theme="light"] .app-loader-card{
  background: rgba(255,255,255,0.78);
  border: 1px solid rgba(63,41,46,0.16);
  box-shadow: 0 22px 70px rgba(63,41,46,0.22);
}
html[data-bs-theme="dark"] .app-loader-card{
  background: rgba(25,35,85,0.78);
  border: 1px solid rgba(160,174,240,0.16);
  box-shadow: 0 26px 85px rgba(0,0,0,0.55);
}

.loader-orb{
  width: 82px;
  height: 82px;
  border-radius: 999px;
  margin: 0 auto;
  position: relative;
  filter: drop-shadow(0 10px 40px var(--glow-1));
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.55), transparent 45%),
              radial-gradient(circle at 70% 70%, var(--glow-2), transparent 60%);
  animation: orbFloat 1.6s ease-in-out infinite;
}

@keyframes orbFloat{
  0%,100%{ transform: translateY(0); }
  50%{ transform: translateY(-8px); }
}

.loader-ring{
  width: 92px;
  height: 92px;
  border-radius: 999px;
  margin: -87px auto 0;
  border: 2px solid rgba(255,255,255,0.15);
  border-top-color: var(--glow-2);
  border-left-color: var(--glow-1);
  animation: ringSpin 1.1s linear infinite;
}

@keyframes ringSpin{
  to{ transform: rotate(360deg); }
}

.loader-bar{
  height: 10px;
  border-radius: 999px;
  overflow: hidden;
  margin-inline: auto;
  width: min(360px, 85%);
  border: 1px solid rgba(255,255,255,0.14);
}
html[data-bs-theme="light"] .loader-bar{
  background: rgba(63,41,46,0.08);
}
html[data-bs-theme="dark"] .loader-bar{
  background: rgba(160,174,240,0.10);
}

.loader-bar span{
  display: block;
  height: 100%;
  width: 40%;
  border-radius: 999px;
  background: linear-gradient(90deg, var(--glow-1), var(--glow-2));
  animation: barMove 1.2s ease-in-out infinite;
}

@keyframes barMove{
  0%{ transform: translateX(-110%); }
  50%{ transform: translateX(70%); }
  100%{ transform: translateX(210%); }
}

.app-loader.is-hidden{
  opacity: 0;
  pointer-events: none;
}

/* =========================
   FADE-IN DO CONTEÚDO
========================= */
.app-content{
  opacity: 0;
  transform: translateY(8px);
  pointer-events: none;
}
.app-content.is-ready{
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

/* =========================
   COMPONENTES (anime vibe)
========================= */
.brand-dot{
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: var(--bs-primary);
  display: inline-block;
}

.avatar{
  width: 34px;
  height: 34px;
  border-radius: 12px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

html[data-bs-theme="light"] .avatar{
  background: rgba(224,42,46,0.10);
  border: 1px solid rgba(224,42,46,0.25);
}
html[data-bs-theme="dark"] .avatar{
  background: rgba(74,85,193,0.14);
  border: 1px solid rgba(160,174,240,0.20);
}

.kpi-icon{
  width: 44px;
  height: 44px;
  border-radius: 16px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
}

html[data-bs-theme="light"] .kpi-icon{
  background: rgba(63,41,46,0.07);
  border: 1px solid rgba(63,41,46,0.12);
}

html[data-bs-theme="dark"] .kpi-icon{
  background: rgba(160,174,240,0.10);
  border: 1px solid rgba(160,174,240,0.18);
}

.card.rounded-4,
.modal-content.rounded-4{
  border-radius: var(--radius) !important;
}

.card,
.navbar,
.modal-content{
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

html[data-bs-theme="light"] .card,
html[data-bs-theme="light"] .navbar,
html[data-bs-theme="light"] .modal-content{
  background: rgba(255,255,255,0.78) !important;
  border: 1px solid rgba(63,41,46,0.16);
  box-shadow: 0 18px 45px rgba(63,41,46,0.16);
}

html[data-bs-theme="dark"] .card,
html[data-bs-theme="dark"] .navbar,
html[data-bs-theme="dark"] .modal-content{
  background: rgba(25,35,85,0.76) !important;
  border: 1px solid rgba(160,174,240,0.16);
  box-shadow: 0 20px 60px rgba(0,0,0,0.45);
}

/* hover aura */
.card{
  position: relative;
  z-index: 1;
  overflow: hidden;
}

.card::before{
  content:"";
  position:absolute;
  inset:-40%;
  background: radial-gradient(260px 140px at 20% 20%, rgba(255,255,255,0.22), transparent 60%);
  opacity: 0;
  transform: rotate(8deg);

  /* ✅ CORREÇÃO: não bloquear clique nos botões dentro do card */
  pointer-events: none;
}

.card:hover{
  transform: translateY(-2px);
  box-shadow:
    0 0 0 4px rgba(255,255,255,0.05),
    0 18px 55px var(--glow-1),
    0 0 26px var(--glow-2);
}

.card:hover::before{
  opacity: .55;
}

/* botão glow */
.btn-primary{
  position: relative;
  overflow: hidden;
  transform: translateZ(0);
}
.btn-primary::before{
  content:"";
  position:absolute;
  inset:-2px;
  background: radial-gradient(140px 50px at 10% 50%, rgba(255,255,255,0.35), transparent 60%);
  opacity: 0;
  transform: translateX(-25%);
}
.btn-primary:hover{
  box-shadow:
    0 0 0 4px rgba(255,255,255,0.06),
    0 14px 45px var(--glow-1),
    0 0 24px var(--glow-2);
  transform: translateY(-1px);
}
.btn-primary:hover::before{
  opacity: .55;
  transform: translateX(55%);
}

/* tabela base */
.table thead th{
  position: sticky;
  top: 0;
  z-index: 1;
}

/* =========================================================
   ✅ AJUSTES FINAIS — PARTE DO PRINT (TEMA ESCURO)
   - barra "Últimos registros" + inputs + cabeçalho tabela
   - linhas com contraste e hover melhor
   - botões "Alternar" e "Excluir" combinando com tema
========================================================= */
html[data-bs-theme="dark"]{
  /* paleta específica para a tabela */
  --tbl-surface: rgba(14, 20, 52, 0.60);
  --tbl-surface-2: rgba(18, 26, 68, 0.70);
  --tbl-border: rgba(160, 174, 240, 0.14);
  --tbl-border-strong: rgba(160, 174, 240, 0.20);

  --tbl-head-bg: rgba(23, 32, 78, 0.78);
  --tbl-head-text: rgba(226, 227, 249, 0.92);

  --tbl-row-bg: rgba(12, 18, 48, 0.45);
  --tbl-row-hover: rgba(74, 85, 193, 0.10);

  --accent-blue: rgba(122, 162, 255, 0.95);  /* azul mais “limpo” */
  --accent-red: rgba(255, 77, 90, 0.95);    /* vermelho neon suave */
}

/* Barra do topo do card (onde tem buscar e filtro) */
html[data-bs-theme="dark"] .card-header.bg-body{
  background: var(--tbl-surface-2) !important;
  border-bottom: 1px solid var(--tbl-border);
}

/* Ícone e título mais nítidos */
html[data-bs-theme="dark"] .card-header.bg-body strong,
html[data-bs-theme="dark"] .card-header.bg-body i{
  color: var(--tbl-head-text);
}

/* Badge contador (o “3”) menos apagado */
html[data-bs-theme="dark"] #badgeCount{
  background: rgba(160,174,240,0.10) !important;
  border-color: rgba(160,174,240,0.18) !important;
  color: rgba(226,227,249,0.88) !important;
}

/* Inputs: buscar */
html[data-bs-theme="dark"] .input-group-text{
  background: rgba(10, 14, 40, 0.55) !important;
  border: 1px solid var(--tbl-border);
  color: rgba(226,227,249,0.85);
}

html[data-bs-theme="dark"] .form-control,
html[data-bs-theme="dark"] .form-select{
  background: rgba(10, 14, 40, 0.55) !important;
  border: 1px solid var(--tbl-border);
  color: rgba(226,227,249,0.92);
}

html[data-bs-theme="dark"] .form-control::placeholder{
  color: rgba(226,227,249,0.55);
}

/* Foco mais bonito (roxo neon) */
html[data-bs-theme="dark"] .form-control:focus,
html[data-bs-theme="dark"] .form-select:focus{
  border-color: rgba(200, 97, 241, 0.55) !important;
  box-shadow: 0 0 0 0.22rem rgba(200, 97, 241, 0.16) !important;
}

/* Cabeçalho da tabela: remove aquele azul “estranho” e deixa alinhado ao tema */
html[data-bs-theme="dark"] .table thead,
html[data-bs-theme="dark"] .table thead.table-light{
  --bs-table-bg: var(--tbl-head-bg);
  --bs-table-color: var(--tbl-head-text);
}

html[data-bs-theme="dark"] .table thead th{
  background: var(--tbl-head-bg) !important;
  color: var(--tbl-head-text) !important;
  border-bottom: 1px solid var(--tbl-border-strong) !important;
}

/* Corpo da tabela + bordas */
html[data-bs-theme="dark"] .table{
  --bs-table-bg: var(--tbl-row-bg);
  --bs-table-color: rgba(226,227,249,0.88);
  --bs-table-border-color: var(--tbl-border);
}

html[data-bs-theme="dark"] .table tbody td{
  background: transparent !important;
  border-top: 1px solid var(--tbl-border) !important;
}

/* Hover das linhas com “aura” suave */
html[data-bs-theme="dark"] .table-hover tbody tr:hover > *{
  background: var(--tbl-row-hover) !important;
  color: rgba(226,227,249,0.95) !important;
}

/* Botões "Alternar" e "Excluir" combinando com o tema */
html[data-bs-theme="dark"] .btn-outline-primary{
  --bs-btn-color: var(--accent-blue);
  --bs-btn-border-color: rgba(122,162,255,0.55);
  --bs-btn-hover-color: #0b102f;
  --bs-btn-hover-bg: rgba(122,162,255,0.95);
  --bs-btn-hover-border-color: rgba(122,162,255,0.95);
  --bs-btn-active-bg: rgba(122,162,255,0.85);
  --bs-btn-active-border-color: rgba(122,162,255,0.85);
}

html[data-bs-theme="dark"] .btn-outline-danger{
  --bs-btn-color: var(--accent-red);
  --bs-btn-border-color: rgba(255,77,90,0.55);
  --bs-btn-hover-color: #0b102f;
  --bs-btn-hover-bg: rgba(255,77,90,0.95);
  --bs-btn-hover-border-color: rgba(255,77,90,0.95);
  --bs-btn-active-bg: rgba(255,77,90,0.85);
  --bs-btn-active-border-color: rgba(255,77,90,0.85);
}

/* Ajuste fino: separa melhor a área da tabela do fundo */
html[data-bs-theme="dark"] .table-responsive{
  background: rgba(10, 14, 40, 0.20);
  border-top: 1px solid rgba(160,174,240,0.10);
}

/* =========================
   RESPONSIVO • Ações da tabela (mobile)
   - separa "Alternar" e "Excluir"
========================= */
@media (max-width: 576px){

  /* célula de ações vira coluna */
  .table tbody td.text-end{
    display: flex !important;
    flex-direction: column !important;
    align-items: stretch !important;
    justify-content: center;
    gap: .45rem;
    white-space: normal !important;
  }

  /* botões ocupam 100% e ficam mais fáceis de clicar */
  .table tbody td.text-end .btn{
    width: 100%;
    justify-content: center;
  }

  /* remove a margem que deixa “torto” no mobile */
  .table tbody td.text-end .me-1{
    margin-right: 0 !important;
  }
}